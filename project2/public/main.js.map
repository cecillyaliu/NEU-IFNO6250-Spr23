{"version":3,"file":"main.js","mappings":"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","sources":["webpack://project2/./src/services.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/main.js"],"sourcesContent":["export function fetchLogin(username) {\n    return fetch('/api/session/', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json', \n      },\n      body: JSON.stringify( { username } ),\n    })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {  \n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json(); \n    });\n  }\n  \n  export function getLogin(username) {\n    return fetch('/api/session/', {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json', \n      }\n    })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) { \n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n  };\n  \n  export function deleteSession() {\n    return fetch('/api/session/', {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n  };\n  \n  \n  export function sendMessage(message) {\n    return fetch('/api/message/', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        message: message\n      })\n    })\n    .catch(function (err) {\n      return Promise.reject({\n        error: 'network-error'\n      });\n    }).then(function (response) {\n      if (!response.ok) {\n        return response.json().then(function (err) {\n          return Promise.reject(err);\n        });\n      }\n      return response.json(); \n    });\n  };\n  \n  export function getMessage() {\n    return fetch('/api/message/', {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n    .catch(function (err) {\n      return Promise.reject({\n        error: 'network-error'\n      });\n    }).then(function (response) {\n      if (!response.ok) {\n        return response.json().then(function (err) {\n          return Promise.reject(err);\n        });\n      }\n      return response.json(); \n    });\n  };  \n  \n  export function loginStatusCheck() {\n    return getLogin()\n      .then((data) => {\n        // user is logged in if data.username exists\n        if (data.username) {\n          return true;\n        } else {\n          return false;\n        }\n      })\n      .catch((error) => {\n        // handle network error or any other error\n        return false;\n      });\n  }\n  ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nconst {fetchLogin, getLogin, sendMessage, getMessage, deleteSession} = require('./services');\n\n(function() {\n    let loggedInUser = '';\n    \n    function getMessageList(messages) {\n        return `  <span class=\"messages-title\">Chatting Room:</span>\n        <ul class=\"messages\">` + \n        Object.values(messages).map( message => `\n        <li>\n          <div class=\"messages-user\">\n          <span class=\"message-sender\">${message.username}:</span><br>\n          <span class=\"message-text\">${message.message}</span>\n          </div>\n        </li>    \n        `).join('') +\n          `</ul>`;\n    };\n\n    function getUserList(users) {\n        return `  <span class=\"user-title\">Online User:</span>\n        <ul class=\"users\">` +\n        Object.values(users).map( user => `\n          <li>\n            <div class=\"user\">\n              <span class=\"username\">${user}</span>\n            </div>\n          </li>\n        `).join('') + \n        `</ul>`;\n    };\n\n    function renderLogin() {\n        const loginPanelEl = document.querySelector('.login-panel');\n        const logoutPanelEl = document.querySelector('.logout-panel');\n        const errorPanelEl = document.querySelector('.error-panel');\n        const messagePanelEl = document.querySelector('.message-panel');\n        const spinnerLogin = document.querySelector('.spinner-login');\n\n\n        loginPanelEl.style.display = \"block\";\n        messagePanelEl.style.display = \"none\";\n        logoutPanelEl.style.display = \"none\";\n        errorPanelEl.style.display = \"none\";    \n        spinnerLogin.style.display = 'none';\n\n    };\n\n    function renderMessage() {\n        getMessage()\n        .catch((error) => {console.log(error)})\n        .then((data) => {\n            const htmlMessage =getMessageList(data.messages);\n            const htmlUser = getUserList(data.users);\n        \n            const loginPanelEl = document.querySelector('.login-panel');\n            const logoutPanelEl = document.querySelector('.logout-panel');\n            const errorPanelEl = document.querySelector('.error-panel');\n            const messageShowPanelEl = document.querySelector('.show-panel');\n            const messagePanelEl = document.querySelector('.message-panel');\n    \n            const currentUserEl = document.querySelector('.currentUser');\n            currentUserEl.innerHTML = `${loggedInUser}`;\n            messageShowPanelEl.innerHTML = `\n                ${htmlMessage}\n                ${htmlUser}\n            `;\n\n            const usersContainer = document.querySelector('.users');\n            usersContainer.scrollTop = usersContainer.scrollHeight - usersContainer.offsetHeight;\n\n            const messagesContainer = document.querySelector('.messages');\n            messagesContainer.scrollTop = messagesContainer.scrollHeight - messagesContainer.offsetHeight;\n\n            errorPanelEl.innerHTML = '';\n            \n            loginPanelEl.style.display = 'none';\n            logoutPanelEl.style.display = 'block';\n            errorPanelEl.style.display = 'none';\n            messagePanelEl.style.display = 'block';\n\n            const spinnerSend = document.querySelector('.spinner-send');\n            spinnerSend.style.display = 'none';\n\n        })\n    };\n\n    setInterval(render, 5000);\n\n    function render() {\n        fetch('/api/session/', {\n            method: 'GET',\n            headers: {\n              'content-type': 'application/json'\n            }\n          }).then(function(response) {\n            if (response.status === 200) {\n                response.json()\n                .then(function(data) {\n                    loggedInUser = data.username;\n                })\n                .then(renderMessage());\n            } else {\n              renderLogin();\n            }\n          }).catch(() => renderLogin());\n    };\n    render();\n\n    const loginPanelEl = document.querySelector('.login-panel');\n    const messageSendPanelEl = document.querySelector('.send-panel');\n    const errorPanelEl = document.querySelector('.error-panel');\n    const logoutPanelEl = document.querySelector('.logout-panel');\n\n    function isValidUsername(username) {\n        let isValid = true;\n        isValid = isValid && username.trim();\n        isValid = isValid && username.match(/^[A-Za-z0-9_]+$/);\n        return isValid;\n      };\n\n      function hasHtml(inputString) {\n        const pattern = /<.*?>/s;\n        return pattern.test(inputString);\n      }\n\n    loginPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-login')) {\n            const spinnerLogin = document.querySelector('.spinner-login');\n            spinnerLogin.style.display = 'block';\n            const usernameEl = document.querySelector('.username');\n            if (usernameEl.value === '') {\n                errorPanelEl.style.display = \"block\";\n                errorPanelEl.innerHTML = \"Username couldn't be null. Please try again.\";\n                spinnerLogin.style.display = 'none';\n                usernameEl.value = '';\n            } else if (!isValidUsername(usernameEl.value)) {\n                errorPanelEl.style.display = \"block\";\n                errorPanelEl.innerHTML = \"Username invalid. Please try again.\";\n                spinnerLogin.style.display = 'none';\n                usernameEl.value = '';\n            } else if (usernameEl.value === \"dog\") {\n                errorPanelEl.style.display = \"block\";\n                errorPanelEl.innerHTML = \"Dogs are not welcome.\";\n                spinnerLogin.style.display = 'none';\n                usernameEl.value = '';\n            } else {\n                errorPanelEl.style.display = \"none\";\n                fetchLogin(usernameEl.value).then(res=>{\n                loggedInUser = usernameEl.value;\n                spinnerLogin.style.display = 'none';\n                renderMessage();\n                })\n            }          \n        }\n    });\n\n    messageSendPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-change')) {\n            const spinnerSend = document.querySelector('.spinner-send');\n            spinnerSend.style.display = 'block';\n            const message = document.querySelector('.message');\n            if (message.value === '') {\n                errorPanelEl.style.display = 'block';\n                errorPanelEl.innerHTML = \"Couldn't be empty. Please enter something.\";\n                spinnerSend.style.display = 'none';\n\n            } else if (hasHtml(message.value)){\n                errorPanelEl.style.display = 'block';\n                errorPanelEl.innerHTML = \"Invalid input, no related content about html.\";\n                message.value = '';\n                spinnerSend.style.display = 'none';\n\n            } else {\n                sendMessage(message.value).then(res => {\n                }).then(message.value = '')\n                .then(spinnerSend.style.display = 'block'\n                )\n                .then (\n                    renderMessage()\n                );\n            }\n        }\n    });\n\n    logoutPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-logout')) {\n            // location.reload()\n            deleteSession();\n            renderLogin();\n            errorPanelEl.innerHTML = '';\n        }\n    });\n\n\n\n})();"],"names":["fetchLogin","username","fetch","method","headers","body","JSON","stringify","err","Promise","reject","error","then","response","ok","json","getLogin","deleteSession","sendMessage","message","getMessage","loginStatusCheck","data","_require","require","loggedInUser","getMessageList","messages","Object","values","map","concat","join","getUserList","users","user","renderLogin","loginPanelEl","document","querySelector","logoutPanelEl","errorPanelEl","messagePanelEl","spinnerLogin","style","display","renderMessage","console","log","htmlMessage","htmlUser","messageShowPanelEl","currentUserEl","innerHTML","usersContainer","scrollTop","scrollHeight","offsetHeight","messagesContainer","spinnerSend","setInterval","render","status","messageSendPanelEl","isValidUsername","isValid","trim","match","hasHtml","inputString","pattern","test","addEventListener","e","target","classList","contains","usernameEl","value","res"],"sourceRoot":""}