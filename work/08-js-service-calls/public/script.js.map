{"version":3,"file":"script.js","mappings":"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","sources":["webpack://08-js-service-calls/./src/script.js"],"sourcesContent":["\"use strict\";\n(function() {\n    function fetchLogin(username) {\n        return fetch('/api/session/', {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json' \n          },\n      \n          body: JSON.stringify({\n            username: username\n          })\n        })\n        [\"catch\"](function (err) {\n          return Promise.reject({\n            error: 'network-error'\n          });\n        }).then(function (response) {\n          if (!response.ok) {\n            return response.json().then(function (err) {\n              return Promise.reject(err);\n            });\n          }\n          return response.json();\n        });\n      };\n\n      function fetchLogin2(username) {\n        return fetch('/api/session/', {\n          method: 'GET',\n          headers: {\n            'content-type': 'application/json'\n          }\n        })\n        [\"catch\"](function (err) {\n          return Promise.reject({\n            error: 'network-error'\n          });\n        }).then(function (response) {\n          if (!response.ok) {\n            return response.json().then(function (err) {\n              return Promise.reject(err);\n            });\n          }\n          return response.json();\n        });\n      };\n    \n    function fetchPutWord(word) {\n        return fetch('/api/word/', {\n          method: 'PUT',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: JSON.stringify({\n            word: word\n          })\n        })\n        [\"catch\"](function (err) {\n          return Promise.reject({\n            error: 'network-error'\n          });\n        }).then(function (response) {\n          if (!response.ok) {\n            return response.json().then(function (err) {\n              return Promise.reject(err);\n            });\n          }\n          return response.json(); \n        });\n      };\n    \n      function fetchGetWord() {\n        return fetch('/api/word/', {\n          method: 'GET',\n          headers: {\n            'content-type': 'application/json'\n          }\n        })\n    \n        [\"catch\"](function (err) {\n          return Promise.reject({\n            error: 'network-error'\n          });\n        }).then(function (response) {\n          if (!response.ok) {\n            return response.json().then(function (err) {\n              return Promise.reject(err);\n            });\n          }\n          return response.json(); \n        });\n      };\n      \n      let buttonEl = document.getElementById('button-login')\n      let changeEl = document.getElementById('button-change')\n      let logoutEl = document.getElementById('button-logout')\n      let login = document.getElementById('login')\n      let shows = document.getElementById('shows')\n      let username = document.getElementById('username')\n      let currentUserEl = document.getElementById('currentUser')\n      let word = document.getElementById('word')\n      let showWord = document.getElementById('showWord')\n    \n      buttonEl.onclick = ()=>{\n      if (username.value=='' ) {\n          message.innerHTML = \"Username couldn't be null. Please try again.\";\n        }else if (username.value === \"dog\") {\n          message.innerHTML = \"Dogs are not welcome.\";\n        }else if (!username.value.match(/^[A-Za-z]*$/)) {\n          message.innerHTML = \"Invalid characters, only letters. Please try again.\";\n        } else {\n          fetchLogin(username.value).then(res=>{\n          currentUser.innerHTML = res.username\n          shows.style.display = 'block'\n          login.style.display = 'none'\n          fetchGetWord(word.value).then(res=>{\n              showWord.innerHTML = res.storedWord\n            })\n          })\n        }\n    \n      }\n      changeEl.onclick = ()=>{\n          fetchPutWord(word.value).then(res=>{\n              showWord.innerHTML = res.storedWord\n          })\n      };\n    \n    \n      logoutEl.onclick = ()=>{\n          location.reload()\n      };\n})();\n"],"names":["fetchLogin","username","fetch","method","headers","body","JSON","stringify","err","Promise","reject","error","then","response","ok","json","fetchLogin2","fetchPutWord","word","fetchGetWord","buttonEl","document","getElementById","changeEl","logoutEl","login","shows","currentUserEl","showWord","onclick","value","message","innerHTML","match","res","currentUser","style","display","storedWord","location","reload"],"sourceRoot":""}