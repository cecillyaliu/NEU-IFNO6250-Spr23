{"version":3,"file":"word.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASA,UAAUA,CAACC,QAAQ,EAAE;EACnC,OAAOC,KAAK,CAAC,eAAe,EAAE;IAC5BC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB,CAAE;IACtC,CAAC;;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAE;MAAEN,QAAQ,EAARA;IAAS,CAAC;EACpC,CAAC;EACD;EACA;EACA;EAAA,SACM,CAAE,UAAAO,GAAG;IAAA,OAAIC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAE,CAC1DC,IAAI,CAAE,UAAAC,QAAQ,EAAI;IACjB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAE;MAAG;MAClB;MACA;MACA,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC3D;IACA,OAAOK,QAAQ,CAACE,IAAI,EAAE,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ;;AAEO,SAASC,QAAQA,CAACf,QAAQ,EAAE;EACjC,OAAOC,KAAK,CAAC,eAAe,EAAE;IAC5BC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB,CAAE;IACtC;EACF,CAAC;EACD;EACA;EACA;EAAA,SACM,CAAE,UAAAI,GAAG;IAAA,OAAIC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAE,CAC1DC,IAAI,CAAE,UAAAC,QAAQ,EAAI;IACjB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAE;MAAG;MAClB;MACA;MACA,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC3D;IACA,OAAOK,QAAQ,CAACE,IAAI,EAAE,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ;;AAAC;AAEM,SAASE,aAAaA,CAAA,EAAG;EAC9B,OAAOf,KAAK,CAAC,eAAe,EAAE;IAC5BC,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC,SACI,CAAE,UAAAI,GAAG;IAAA,OAAIC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAE,CAC1DC,IAAI,CAAE,UAAAC,QAAQ,EAAI;IACjB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC3D;IACA,OAAOK,QAAQ,CAACE,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAAC;AAGM,SAASG,OAAOA,CAACC,IAAI,EAAE;EAC5B,OAAOjB,KAAK,CAAC,YAAY,EAAE;IACzBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBY,IAAI,EAAEA;IACR,CAAC;EACH,CAAC,CAAC,CACD,OAAO,CAAC,CAAC,UAAUX,GAAG,EAAE;IACvB,OAAOC,OAAO,CAACC,MAAM,CAAC;MACpBC,KAAK,EAAE;IACT,CAAC,CAAC;EACJ,CAAC,CAAC,CAACC,IAAI,CAAC,UAAUC,QAAQ,EAAE;IAC1B,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MAChB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAAUJ,GAAG,EAAE;QACzC,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAC5B,CAAC,CAAC;IACJ;IACA,OAAOK,QAAQ,CAACE,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAAC;AAEM,SAASK,OAAOA,CAAA,EAAG;EACxB,OAAOlB,KAAK,CAAC,YAAY,EAAE;IACzBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC,CAED,OAAO,CAAC,CAAC,UAAUI,GAAG,EAAE;IACvB,OAAOC,OAAO,CAACC,MAAM,CAAC;MACpBC,KAAK,EAAE;IACT,CAAC,CAAC;EACJ,CAAC,CAAC,CAACC,IAAI,CAAC,UAAUC,QAAQ,EAAE;IAC1B,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MAChB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAAUJ,GAAG,EAAE;QACzC,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAC5B,CAAC,CAAC;IACJ;IACA,OAAOK,QAAQ,CAACE,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAAC;AAEM,SAASM,gBAAgBA,CAAA,EAAG;EACjC,IAAMF,IAAI,GAAGG,OAAO,CAACC,YAAY,CAAC;EAClC,IAAMC,UAAU,GAAGL,IAAI,GAAGA,IAAI,GAAG,MAAM;EACvC,OAAOV,OAAO,CAACgB,OAAO,CAAC;IAAED,UAAU,EAAVA;EAAW,CAAC,CAAC;AACxC;AAGO,SAASE,gBAAgBA,CAAA,EAAG;EACjC,OAAOV,QAAQ,EAAE,CACdJ,IAAI,CAAC,UAACe,IAAI,EAAK;IACd;IACA,IAAIA,IAAI,CAAC1B,QAAQ,EAAE;MACjB,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC,CAAC,SACI,CAAC,UAACU,KAAK,EAAK;IAChB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;AACN;;;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;;AAEA,IAAMW,OAAO,GAAG,CAAC,CAAC;;AAElB;AACA;;AAEA;AACA;AACA;;AAEA,SAASM,eAAeA,CAAC3B,QAAQ,EAAE;EACjC,IAAI4B,OAAO,GAAG,IAAI;EAClBA,OAAO,GAAGA,OAAO,IAAI5B,QAAQ,CAAC6B,IAAI,EAAE;EACpCD,OAAO,GAAGA,OAAO,IAAI5B,QAAQ,CAAC8B,KAAK,CAAC,iBAAiB,CAAC;EACtD,OAAOF,OAAO;AAChB;AAEA,SAASG,WAAWA,CAACb,IAAI,EAAE;EACzB,IAAIU,OAAO,GAAG,IAAI;EAClBA,OAAO,GAAGA,OAAO,IAAIV,IAAI,CAACY,KAAK,CAAC,aAAa,CAAC;EAC9C,OAAOF,OAAO;AAChB;AAEAI,MAAM,CAACC,OAAO,GAAG;EACfN,eAAe,EAAfA,eAAe;EACfI,WAAW,EAAXA,WAAW;EACXV,OAAO,EAAPA;AACF,CAAC;;;;;;UChCD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;ACNa;;AACb,IAAAa,QAAA,GAAkDC,mBAAO,CAAC,4BAAU,CAAC;EAA7Dd,OAAO,GAAAa,QAAA,CAAPb,OAAO;EAAEM,eAAe,GAAAO,QAAA,CAAfP,eAAe;EAAEI,WAAW,GAAAG,QAAA,CAAXH,WAAW;AAC7C,IAAAK,SAAA,GAAgED,mBAAO,CAAC,qCAAY,CAAC;EAA9EpC,UAAU,GAAAqC,SAAA,CAAVrC,UAAU;EAAEgB,QAAQ,GAAAqB,SAAA,CAARrB,QAAQ;EAAEE,OAAO,GAAAmB,SAAA,CAAPnB,OAAO;EAAEE,OAAO,GAAAiB,SAAA,CAAPjB,OAAO;EAAEH,aAAa,GAAAoB,SAAA,CAAbpB,aAAa;AAE5D,CAAC,YAAW;EACR,IAAIM,YAAY,GAAG,EAAE;EAGrB,SAASe,WAAWA,CAAA,EAAG;IACnB,IAAMC,SAAS,0UAOd;IAED,IAAMC,QAAQ,gYAOb;IAED,IAAMC,UAAU,0FAEf;IAED,IAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IAC3D,IAAMC,aAAa,GAAGF,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC7D,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;IACzD,IAAMG,cAAc,GAAGJ,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAC/DF,YAAY,CAACM,SAAS,GAAGT,SAAS;IAClCM,aAAa,CAACG,SAAS,GAAGP,UAAU;IACpCK,WAAW,CAACE,SAAS,GAAGR,QAAQ;IAEhCE,YAAY,CAACO,KAAK,CAACC,OAAO,GAAG,OAAO;IACpCH,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,MAAM;IACrCL,aAAa,CAACI,KAAK,CAACC,OAAO,GAAG,MAAM;IACpCJ,WAAW,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;IAClC,IAAIC,aAAa,GAAGR,QAAQ,CAACS,sBAAsB,CAAC,cAAc,CAAC;IACnE,IAAInD,QAAQ,GAAG0C,QAAQ,CAACS,sBAAsB,CAAC,UAAU,CAAC;EAI9D;EAAC;EAED,SAASC,UAAUA,CAAA,EAAG;IAClB,IAAMb,QAAQ,uDAAAc,MAAA,CACyB/B,YAAY,sEAAA+B,MAAA,CACTjC,gBAAgB,EAAE,+OAK3D;IAED,IAAMoB,UAAU,0FAEf;IACD,IAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IAC3D,IAAMC,aAAa,GAAGF,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC7D,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;IACzD,IAAMG,cAAc,GAAGJ,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAC/DC,aAAa,CAACG,SAAS,GAAGP,UAAU;IACpCK,WAAW,CAACE,SAAS,GAAGR,QAAQ;IAGhC,IAAIrB,IAAI,GAAGwB,QAAQ,CAACS,sBAAsB,CAAC,MAAM,CAAC;IAClD,IAAIG,QAAQ,GAAGZ,QAAQ,CAACS,sBAAsB,CAAC,UAAU,CAAC;IAE1DN,WAAW,CAACE,SAAS,GAAGR,QAAQ;IAChCK,aAAa,CAACG,SAAS,GAAGP,UAAU;IAGpCM,cAAc,CAACC,SAAS,GAAG,EAAE;IAE7BN,YAAY,CAACO,KAAK,CAACC,OAAO,GAAG,MAAM;IACnCL,aAAa,CAACI,KAAK,CAACC,OAAO,GAAG,OAAO;IACrCJ,WAAW,CAACG,KAAK,CAACC,OAAO,GAAG,OAAO;IACnCH,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,OAAO;;IAEtC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAGJ;;EAAC;EAED,SAASM,MAAMA,CAAA,EAAG;IACdtD,KAAK,CAAC,eAAe,EAAE;MACnBC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CAACQ,IAAI,CAAC,UAASC,QAAQ,EAAE;MACzB,IAAIA,QAAQ,CAAC4C,MAAM,KAAK,GAAG,EAAE;QAC3B;QACEJ,UAAU,EAAE;MAChB,CAAC,MAAM;QACL;QACAf,WAAW,EAAE;MACf;IACF,CAAC,CAAC,SAAM,CAAC,UAAC9B,GAAG;MAAA,OAAK8B,WAAW,EAAE;IAAA,EAAC;EACtC;EAAC;EACDkB,MAAM,EAAE;EAER,SAASnC,gBAAgBA,CAAA,EAAG;IACxB,IAAMF,IAAI,GAAGG,OAAO,CAACC,YAAY,CAAC;IAClC,IAAMC,UAAU,GAAGL,IAAI,GAAGA,IAAI,GAAG,oBAAoB;IACrD,OAAOK,UAAU;EACrB;EAAC;EAED,IAAMkB,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;EAC3D,IAAMG,cAAc,GAAGJ,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;EAC/D,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;EACzD,IAAMC,aAAa,GAAGF,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;EAE7DF,YAAY,CAACgB,gBAAgB,CAAC,OAAO,EAAE,UAAAC,CAAC,EAAI;IACxC,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;MAC7C,IAAMC,UAAU,GAAGpB,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;MACtD,IAAImB,UAAU,CAACC,KAAK,KAAK,EAAE,EAAE;QACzBjB,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,OAAO;QACtCH,cAAc,CAACC,SAAS,GAAG,8CAA8C;QACzEe,UAAU,CAACC,KAAK,GAAG,EAAE;MACzB,CAAC,MAAM,IAAI,CAACpC,eAAe,CAACmC,UAAU,CAACC,KAAK,CAAC,EAAE;QAC3CjB,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,OAAO;QACtCH,cAAc,CAACC,SAAS,GAAG,qCAAqC;QAChEe,UAAU,CAACC,KAAK,GAAG,EAAE;MACzB,CAAC,MAAM,IAAID,UAAU,CAACC,KAAK,KAAK,KAAK,EAAE;QACnCjB,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,OAAO;QACtCH,cAAc,CAACC,SAAS,GAAG,uBAAuB;QAClDe,UAAU,CAACC,KAAK,GAAG,EAAE;MACzB,CAAC,MAAM;QACHjB,cAAc,CAACE,KAAK,CAACC,OAAO,GAAG,MAAM;QACrClD,UAAU,CAAC+D,UAAU,CAACC,KAAK,CAAC,CAACpD,IAAI,CAAC,UAAAqD,GAAG,EAAE;UACvC1C,YAAY,GAAGwC,UAAU,CAACC,KAAK;UAC/BX,UAAU,EAAE;QACZ,CAAC,CAAC;MACN;IACJ;EACJ,CAAC,CAAC;EAEFP,WAAW,CAACY,gBAAgB,CAAC,OAAO,EAAE,UAAAC,CAAC,EAAI;IACvC,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;MAC9C,IAAM3C,IAAI,GAAGwB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAC5C,IAAMW,QAAQ,GAAGZ,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;MACpD,IAAIzB,IAAI,CAAC6C,KAAK,KAAK,EAAE,EAAE;QACnBjB,cAAc,CAACC,SAAS,GAAG,4CAA4C;MAC3E,CAAC,MAAM,IAAG,CAAChB,WAAW,CAACb,IAAI,CAAC6C,KAAK,CAAC,EAAE;QAChCjB,cAAc,CAACC,SAAS,GAAG,0BAA0B;MACzD,CAAC,MAAM;QACH9B,OAAO,CAACC,IAAI,CAAC6C,KAAK,CAAC,CAACpD,IAAI,CAAC,UAAAqD,GAAG,EAAI;UAC5B3C,OAAO,CAACC,YAAY,CAAC,GAAGJ,IAAI,CAAC6C,KAAK;UAClCT,QAAQ,CAACP,SAAS,GAAGiB,GAAG,CAACzC,UAAU;QACvC,CAAC,CAAC;MACN;IACJ;EACJ,CAAC,CAAC;EAEFqB,aAAa,CAACa,gBAAgB,CAAC,OAAO,EAAE,UAAAC,CAAC,EAAI;IACzC,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;MAC9C;MACA7C,aAAa,EAAE;MACfqB,WAAW,EAAE;MACbS,cAAc,CAACC,SAAS,GAAG,EAAE;IACjC;EACJ,CAAC,CAAC;AAIN,CAAC,GAAG,C","sources":["webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/./users.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/word.js"],"sourcesContent":["// This is a sample file that demonstrates\n// how you can write an abstraction around\n// a fetch() call\n// This exported function returns a promise\n// that resolves with data\n// or rejects with an error object\n//\n// The caller of this function can decide\n// what to do with the data\n// or what to do with the error\n//\n// You can add to this file and use this function\n// or write your own files/functions\n\nexport function fetchLogin(username) {\n  return fetch('/api/session/', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json', // set this header when sending JSON in the body of request\n    },\n    body: JSON.stringify( { username } ),\n  })\n  // fetch() rejects on network error\n  // So we convert that to a formatted error object\n  // so our caller can handle all \"errors\" in a similar way\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if(!response.ok) {  // response.ok checks the status code from the service\n      // This service returns JSON on errors,\n      // so we use that as the error object and reject\n      return response.json().then( err => Promise.reject(err) );\n    }\n    return response.json(); // happy status code means resolve with data from service\n  });\n}\n\nexport function getLogin(username) {\n  return fetch('/api/session/', {\n    method: 'GET',\n    headers: {\n      'content-type': 'application/json', // set this header when sending JSON in the body of request\n    }\n  })\n  // fetch() rejects on network error\n  // So we convert that to a formatted error object\n  // so our caller can handle all \"errors\" in a similar way\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if(!response.ok) {  // response.ok checks the status code from the service\n      // This service returns JSON on errors,\n      // so we use that as the error object and reject\n      return response.json().then( err => Promise.reject(err) );\n    }\n    return response.json(); // happy status code means resolve with data from service\n  });\n};\n\nexport function deleteSession() {\n  return fetch('/api/session/', {\n    method: 'DELETE',\n    headers: {\n      'content-type': 'application/json',\n    },\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if(!response.ok) {\n      return response.json().then( err => Promise.reject(err) );\n    }\n    return response.json();\n  });\n};\n\n\nexport function putWord(word) {\n  return fetch('/api/word/', {\n    method: 'PUT',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      word: word\n    })\n  })\n  [\"catch\"](function (err) {\n    return Promise.reject({\n      error: 'network-error'\n    });\n  }).then(function (response) {\n    if (!response.ok) {\n      return response.json().then(function (err) {\n        return Promise.reject(err);\n      });\n    }\n    return response.json(); \n  });\n};\n\nexport function getWord() {\n  return fetch('/api/word/', {\n    method: 'GET',\n    headers: {\n      'content-type': 'application/json'\n    }\n  })\n\n  [\"catch\"](function (err) {\n    return Promise.reject({\n      error: 'network-error'\n    });\n  }).then(function (response) {\n    if (!response.ok) {\n      return response.json().then(function (err) {\n        return Promise.reject(err);\n      });\n    }\n    return response.json(); \n  });\n};\n\nexport function getWordByWordFor() {\n  const word = wordFor[loggedInUser];\n  const storedWord = word ? word : \"None\";\n  return Promise.resolve({ storedWord });\n}\n\n\nexport function loginStatusCheck() {\n  return getLogin()\n    .then((data) => {\n      // user is logged in if data.username exists\n      if (data.username) {\n        return true;\n      } else {\n        return false;\n      }\n    })\n    .catch((error) => {\n      // handle network error or any other error\n      return false;\n    });\n}\n","// Odd naming on \"wordFor\"?\n// This is chosen to make the use of it read more naturally:\n// `wordFor[username] = word;`\n//\n// Some teams will embrace that, others will want a more rigidly consistent style\n\nconst wordFor = {};\n\n// We could have some functions to abstract the storage of words\n// Similar to how sessions.js never exports the sessions object\n\n// I've exported the wordFor object instead because our use is so simple\n// - different people in the industry have different views on when is the\n// best time to put a layer of abstraction around data\n\nfunction isValidUsername(username) {\n  let isValid = true;\n  isValid = isValid && username.trim();\n  isValid = isValid && username.match(/^[A-Za-z0-9_]+$/);\n  return isValid;\n}\n\nfunction isValidWord(word) {\n  let isValid = true;\n  isValid = isValid && word.match(/^[A-Za-z]*$/);\n  return isValid;\n}\n\nmodule.exports = {\n  isValidUsername,\n  isValidWord,\n  wordFor,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nconst { wordFor, isValidUsername, isValidWord } = require('../users');\nconst {fetchLogin, getLogin, putWord, getWord, deleteSession} = require('./services');\n\n(function() {\n    let loggedInUser = '';\n\n\n    function renderLogin() {\n        const htmlLogin =  `\n            <h1>Welcome~</h1>\n            <h2>Login first<h2>\n            <h3>Input your username:</h3><br>\n            <input class=\"username\" type=\"text\" placeholder=\"username\">\n            <button class=\"button-login\">Login</button><br>\n            <p>Note: Only letters, dogs are not welcome.</p>\n        `;\n\n        const htmlWord = `\n            <h1>Hello, <span class=\"currentUser\"></span></h1> <br>\n            <h2>Your word is:<span class=\"showWord\"></span></h2> <br><br>\n            <h3>Want to change? \n            <span>Input your new word:</span> <br>\n                <input class=\"word\" type=\"text\" placeholder=\"word\">\n            <button class=\"button-change\">change</button>\n        `;\n\n        const htmlLogout = `\n            Getting tired!<button class=\"button-logout\">logout</button>\n        `;\n\n        const loginPanelEl = document.querySelector('.login-panel');\n        const logoutPanelEl = document.querySelector('.logout-panel');\n        const wordPanelEl = document.querySelector('.word-panel');\n        const messagePanelEl = document.querySelector('.message-panel');\n        loginPanelEl.innerHTML = htmlLogin;\n        logoutPanelEl.innerHTML = htmlLogout;\n        wordPanelEl.innerHTML = htmlWord;\n\n        loginPanelEl.style.display = \"block\";\n        messagePanelEl.style.display = \"none\";\n        logoutPanelEl.style.display = \"none\";\n        wordPanelEl.style.display = \"none\";\n        let loginButtonEl = document.getElementsByClassName('button-login');\n        let username = document.getElementsByClassName('username');\n\n\n    \n    };\n\n    function renderWord() {\n        const htmlWord = `\n        <h1>Hello, <span class=\"currentUser\">${loggedInUser}</span></h1>\n        <h2>Your word is:<span class=\"showWord\">${getWordByWordFor()} </span></h2>\n        <h3>Want to change? </h3>\n        <span>Input your new word:</span> <br>\n            <input class=\"word\" type=\"text\" placeholder=\"word\">\n        <button class=\"button-change\">change</button>\n        `;\n\n        const htmlLogout = `\n            Getting tired!<button class=\"button-logout\">logout</button>\n        `;\n        const loginPanelEl = document.querySelector('.login-panel');\n        const logoutPanelEl = document.querySelector('.logout-panel');\n        const wordPanelEl = document.querySelector('.word-panel');\n        const messagePanelEl = document.querySelector('.message-panel');\n        logoutPanelEl.innerHTML = htmlLogout;\n        wordPanelEl.innerHTML = htmlWord;\n\n\n        let word = document.getElementsByClassName('word');\n        let showWord = document.getElementsByClassName('showWord');\n        \n        wordPanelEl.innerHTML = htmlWord;\n        logoutPanelEl.innerHTML = htmlLogout;\n\n\n        messagePanelEl.innerHTML = '';\n        \n        loginPanelEl.style.display = 'none';\n        logoutPanelEl.style.display = 'block';\n        wordPanelEl.style.display = 'block';\n        messagePanelEl.style.display = 'block';\n\n        // showWord.innerHTML = getWordByWordFor();\n        // getWord(word.value).then(res=>{\n        //     if (res.storedWord === '') {\n        //         showWord.innerHTML = \"None\";\n        //     } else {\n        //         showWord.innerHTML = res.storedWord\n        //     }\n        // });\n\n        \n    };\n\n    function render() {\n        fetch('/api/session/', {\n            method: 'GET',\n            headers: {\n              'content-type': 'application/json'\n            }\n          }).then(function(response) {\n            if (response.status === 200) {\n              // User is logged in, show message panel\n                renderWord();\n            } else {\n              // User is not logged in, show login panel\n              renderLogin();\n            }\n          }).catch((err) => renderLogin());\n    };\n    render();\n\n    function getWordByWordFor() {\n        const word = wordFor[loggedInUser];\n        const storedWord = word ? word : \"None (Not set yet)\";\n        return storedWord;\n    };\n\n    const loginPanelEl = document.querySelector('.login-panel');\n    const messagePanelEl = document.querySelector('.message-panel');\n    const wordPanelEl = document.querySelector('.word-panel');\n    const logoutPanelEl = document.querySelector('.logout-panel');\n\n    loginPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-login')) {\n            const usernameEl = document.querySelector('.username');\n            if (usernameEl.value === '') {\n                messagePanelEl.style.display = \"block\";\n                messagePanelEl.innerHTML = \"Username couldn't be null. Please try again.\";\n                usernameEl.value = '';\n            } else if (!isValidUsername(usernameEl.value)) {\n                messagePanelEl.style.display = \"block\";\n                messagePanelEl.innerHTML = \"Username invalid. Please try again.\";\n                usernameEl.value = '';\n            } else if (usernameEl.value === \"dog\") {\n                messagePanelEl.style.display = \"block\";\n                messagePanelEl.innerHTML = \"Dogs are not welcome.\";\n                usernameEl.value = '';\n            } else {\n                messagePanelEl.style.display = \"none\";\n                fetchLogin(usernameEl.value).then(res=>{\n                loggedInUser = usernameEl.value;\n                renderWord();\n                })\n            }          \n        }\n    });\n\n    wordPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-change')) {\n            const word = document.querySelector('.word');\n            const showWord = document.querySelector('.showWord');\n            if (word.value === '') {\n                messagePanelEl.innerHTML = \"Couldn't be empty. Please enter something.\";\n            } else if(!isValidWord(word.value)) {\n                messagePanelEl.innerHTML = \"Invalid word. Try again.\";\n            } else {\n                putWord(word.value).then(res => {\n                    wordFor[loggedInUser] = word.value;\n                    showWord.innerHTML = res.storedWord;\n                });\n            }\n        }\n    });\n\n    logoutPanelEl.addEventListener('click', e => {\n        if (e.target.classList.contains('button-logout')) {\n            // location.reload()\n            deleteSession();\n            renderLogin();\n            messagePanelEl.innerHTML = '';\n        }\n    });\n\n\n\n})();"],"names":["fetchLogin","username","fetch","method","headers","body","JSON","stringify","err","Promise","reject","error","then","response","ok","json","getLogin","deleteSession","putWord","word","getWord","getWordByWordFor","wordFor","loggedInUser","storedWord","resolve","loginStatusCheck","data","isValidUsername","isValid","trim","match","isValidWord","module","exports","_require","require","_require2","renderLogin","htmlLogin","htmlWord","htmlLogout","loginPanelEl","document","querySelector","logoutPanelEl","wordPanelEl","messagePanelEl","innerHTML","style","display","loginButtonEl","getElementsByClassName","renderWord","concat","showWord","render","status","addEventListener","e","target","classList","contains","usernameEl","value","res"],"sourceRoot":""}